<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
 <HEAD>
  <TITLE>Heart</TITLE>
  <META NAME="Generator" CONTENT="EditPlus">
  <META NAME="Author" CONTENT="">
  <META NAME="Keywords" CONTENT="">
  <META NAME="Description" CONTENT="">
 
  <style>
  html, body {
    height: 100%;
    padding: 0;
    margin: 0;
    background: #000;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .box {
    width: 100%;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  canvas {
    position: absolute;
    width: 100%;
    height: 100%;
  }

  #pinkboard {
    position: relative;
    margin: auto;
    height: 500px;
    width: 500px;
    animation: animate 1.3s infinite;
  }

  #pinkboard:before, #pinkboard:after {
    content: '';
    position: absolute;
    background: #FF5CA4;
    width: 100px;
    height: 160px;
    border-top-left-radius: 50px;
    border-top-right-radius: 50px;
  }

  #pinkboard:before {
    left: 100px;
    transform: rotate(-45deg);
    transform-origin: 0 100%;
    box-shadow: 0 14px 28px rgba(0,0,0,0.25),
                0 10px 10px rgba(0,0,0,0.22);
  }

  #pinkboard:after {
    left: 0;
    transform: rotate(45deg);
    transform-origin: 100% 100%;
  }

  @keyframes animate {
    0% { transform: scale(1); }
    30% { transform: scale(.8); }
    60% { transform: scale(1.2); }
    100% { transform: scale(1); }
  }
  .text-click {
    position: absolute;
    top: 110%;
    left: 85%;
    transform: translate(-50%, -50%);
    color: #FF8BC2;
    font-family: 'Comic Neue', cursive, sans-serif;
    font-size: 11px;
    text-shadow: 0 0 20px #FF5CA4, 0 0 40px #FF5CA4;
    animation: glow 2s ease-in-out infinite;
  }

  .text-love {
    position: absolute;
    top: 45%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: #FF8BC2;
    font-family: 'Comic Neue', cursive, sans-serif;
    font-size: 28px;
    text-shadow: 0 0 20px #FF5CA4, 0 0 40px #FF5CA4;
    animation: glow 2s ease-in-out infinite;
  }

  .text-name {
    position: absolute;
    top: 95%;
    left: 50%;
    transform: translateX(-50%);
    color: #FFD6E8;
    font-family: 'Comic Neue', cursive, sans-serif;
    font-size: 28px;
    text-shadow: 0 0 15px #FF5CA4, 0 0 30px #FF5CA4;
    animation: glow 3s ease-in-out infinite;
  }

  @keyframes glow {
    0%, 100% { text-shadow: 0 0 20px #FF5CA4, 0 0 40px #FF5CA4; }
    50% { text-shadow: 0 0 30px #FF9FD1, 0 0 60px #FF9FD1; }
  }

  /* üéµ N√∫t b·∫≠t/t·∫Øt nh·∫°c */
  #music-toggle {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: rgba(255, 92, 164, 0.8);
    color: white;
    border: none;
    border-radius: 50%;
    font-size: 20px;
    width: 50px;
    height: 50px;
    cursor: pointer;
    box-shadow: 0 0 15px #FF5CA4;
    transition: transform 0.3s, background 0.3s;
  }
  #music-toggle:hover {
    transform: scale(1.15);
    background: #FF78B7;
  }
  </style>
 </HEAD>
 
 <BODY>
   <div class="box">
      <canvas id="pinkboard"></canvas>
      <div class="text-click ">H√£y ·∫•n v√†o m√†n h√¨nh s·∫Ω c√≥ ƒëi·ªÅu b·∫•t ng·ªù üòä</div>
      <div class="text-love">Anh th√≠ch em üíñ</div>
      <div class="text-name">C√¥ g√°i "Ngoan" xinh Iu</div>
   </div>

   <!-- üéµ Nh·∫°c n·ªÅn -->
   <audio id="bg-music" autoplay loop hidden>
     <source src="Kh√¥ng Th·ªùi Gian.mp3" type="audio/mpeg">
   </audio>

   <!-- N√∫t b·∫≠t/t·∫Øt nh·∫°c -->
   <button id="music-toggle">üéµ</button>

  <script>
  const audio = document.getElementById("bg-music");
  const btn = document.getElementById("music-toggle");

  // N·∫øu tr√¨nh duy·ªát ch·∫∑n autoplay th√¨ ph√°t khi ng∆∞·ªùi d√πng click l·∫ßn ƒë·∫ßu
  document.addEventListener("click", () => {
    if (audio.paused) audio.play();
  }, { once: true });

  // B·∫≠t/t·∫Øt nh·∫°c khi b·∫•m n√∫t
  btn.addEventListener("click", () => {
    if (audio.paused) {
      audio.play();
      btn.textContent = "üéµ";
    } else {
      audio.pause();
      btn.textContent = "üîá";
    }
  });

  /* --- Hi·ªáu ·ª©ng tr√°i tim ƒë·ªông --- */
  var settings = { particles: { length: 2000, duration: 2, velocity: 100, effect: -1.3, size: 13 } };
  (function(){var b=0;var c=["ms","moz","webkit","o"];for(var a=0;a<c.length&&!window.requestAnimationFrame;++a){window.requestAnimationFrame=window[c[a]+"RequestAnimationFrame"];window.cancelAnimationFrame=window[c[a]+"CancelAnimationFrame"]||window[c[a]+"CancelRequestAnimationFrame"]}if(!window.requestAnimationFrame){window.requestAnimationFrame=function(h,e){var d=new Date().getTime();var f=Math.max(0,16-(d-b));var g=window.setTimeout(function(){h(d+f)},f);b=d+f;return g}}if(!window.cancelAnimationFrame){window.cancelAnimationFrame=function(d){clearTimeout(d)}}}());
  var Point=function(){function t(i,h){this.x=(typeof i!=='undefined')?i:0;this.y=(typeof h!=='undefined')?h:0;}t.prototype.clone=function(){return new t(this.x,this.y);};t.prototype.length=function(h){if(typeof h=='undefined'){return Math.sqrt(this.x*this.x+this.y*this.y);}this.normalize();this.x*=h;this.y*=h;return this;};t.prototype.normalize=function(){var h=this.length();this.x/=h;this.y/=h;return this;};return t;}();
  var Particle=function(){function t(){this.position=new Point();this.velocity=new Point();this.acceleration=new Point();this.age=0;}t.prototype.initialize=function(i,h,j,k){this.position.x=i;this.position.y=h;this.velocity.x=j;this.velocity.y=k;this.acceleration.x=j*settings.particles.effect;this.acceleration.y=k*settings.particles.effect;this.age=0;};t.prototype.update=function(i){this.position.x+=this.velocity.x*i;this.position.y+=this.velocity.y*i;this.velocity.x+=this.acceleration.x*i;this.velocity.y+=this.acceleration.y*i;this.age+=i;};t.prototype.draw=function(k,i){function h(l){return(--l)*l*l+1;}var j=i.width*h(this.age/settings.particles.duration);k.globalAlpha=1-this.age/settings.particles.duration;k.drawImage(i,this.position.x-j/2,this.position.y-j/2,j,j);};return t;}();
  var ParticlePool=function(){var j,e=0,g=0,i=settings.particles.duration;function h(k){j=new Array(k);for(var l=0;l<j.length;l++){j[l]=new Particle();}}h.prototype.add=function(l,m,o,n){j[g].initialize(l,m,o,n);g++;if(g==j.length){g=0;}if(e==g){e++;}if(e==j.length){e=0;}};h.prototype.update=function(k){var l;if(e<g){for(l=e;l<g;l++){j[l].update(k);}}if(g<e){for(l=e;l<j.length;l++){j[l].update(k);}for(l=0;l<g;l++){j[l].update(k);}}while(j[e].age>=i&&e!=g){e++;if(e==j.length){e=0;}}};h.prototype.draw=function(k,l){if(e<g){for(var m=e;m<g;m++){j[m].draw(k,l);}}if(g<e){for(var m=e;m<j.length;m++){j[m].draw(k,l);}for(var m=0;m<g;m++){j[m].draw(k,l);}}};return h;}();
  (function(canvas){var context=canvas.getContext('2d'),particles=new ParticlePool(settings.particles.length),particleRate=settings.particles.length/settings.particles.duration,time;function pointOnHeart(t){return new Point(160*Math.pow(Math.sin(t),3),130*Math.cos(t)-50*Math.cos(2*t)-20*Math.cos(3*t)-10*Math.cos(4*t)+25);}var image=(function(){var canvas=document.createElement('canvas'),context=canvas.getContext('2d');canvas.width=settings.particles.size;canvas.height=settings.particles.size;function to(t){var point=pointOnHeart(t);point.x=settings.particles.size/2+point.x*settings.particles.size/350;point.y=settings.particles.size/2-point.y*settings.particles.size/350;return point;}context.beginPath();var t=-Math.PI;var point=to(t);context.moveTo(point.x,point.y);while(t<Math.PI){t+=0.01;point=to(t);context.lineTo(point.x,point.y);}context.closePath();context.fillStyle='#FF5CA4';context.fill();var image=new Image();image.src=canvas.toDataURL();return image;})();function render(){requestAnimationFrame(render);var newTime=new Date().getTime()/1000,deltaTime=newTime-(time||newTime);time=newTime;context.clearRect(0,0,canvas.width,canvas.height);var amount=particleRate*deltaTime;for(var i=0;i<amount;i++){var pos=pointOnHeart(Math.PI-2*Math.PI*Math.random());var dir=pos.clone().length(settings.particles.velocity);particles.add(canvas.width/2+pos.x,canvas.height/2-pos.y,dir.x,-dir.y);}particles.update(deltaTime);particles.draw(context,image);}function onResize(){canvas.width=canvas.clientWidth;canvas.height=canvas.clientHeight;}window.onresize=onResize;setTimeout(function(){onResize();render();},10);})(document.getElementById('pinkboard'));
  </script>
 </BODY>
</HTML>
